(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3125:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var n=a(5155),s=a(2115),i=a(760),l=a(6408);let r=a(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8001/rag";function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(""),[o,x]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),m=(0,s.useRef)(null),p=async e=>{if(e.preventDefault(),!a.trim())return;c("");let n={role:"user",content:a};t(e=>[...e,n]),o||x(!0),u(!0);try{let e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:a})}),n=await e.json(),s={role:"assistant",content:n.answer||"No response from backend."};t(e=>[...e,s])}catch(e){t(e=>[...e,{role:"assistant",content:"âŒ Error contacting server."}])}finally{u(!1)}};return(0,s.useEffect)(()=>{var e;null==(e=m.current)||e.scrollIntoView({behavior:"smooth"})},[e,d]),(0,n.jsx)("main",{className:"w-screen min-h-screen bg-black text-white flex items-center justify-center",children:(0,n.jsx)(i.N,{mode:"wait",children:o?(0,n.jsxs)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"flex flex-col w-full h-screen bg-zinc-900",children:[(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-4",children:[(0,n.jsxs)(i.N,{children:[e.map((e,t)=>(0,n.jsx)(l.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,n.jsx)("div",{className:"px-4 py-3 rounded-2xl shadow-md text-sm leading-relaxed max-w-[80%] whitespace-pre-wrap ".concat("user"===e.role?"bg-cyan-500 text-white":"bg-zinc-800 text-gray-100"),children:e.content})},t)),d&&(0,n.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-start",children:(0,n.jsxs)("div",{className:"px-4 py-3 rounded-2xl bg-zinc-800 text-gray-400 text-sm font-mono flex gap-1 animate-pulse",children:[(0,n.jsx)("span",{children:"Thinking"}),(0,n.jsx)("span",{className:"animate-bounce",children:"."}),(0,n.jsx)("span",{className:"animate-bounce delay-150",children:"."}),(0,n.jsx)("span",{className:"animate-bounce delay-300",children:"."})]})})]}),(0,n.jsx)("div",{ref:m})]}),(0,n.jsx)("form",{onSubmit:p,className:"w-full flex justify-center px-4 py-6 border-t border-zinc-800 bg-zinc-900",children:(0,n.jsxs)("div",{className:"flex items-center w-full max-w-2xl bg-zinc-800 rounded-3xl px-4 py-3 shadow-lg",children:[(0,n.jsx)("textarea",{value:a,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p(e))},placeholder:"Type your message...",rows:2,className:"flex-1 bg-transparent resize-none text-white placeholder-gray-400 focus:outline-none text-base"}),(0,n.jsx)("button",{type:"submit",className:"ml-3 px-4 py-2 rounded-full bg-cyan-500 hover:bg-blue-700 transition text-white text-sm",children:"Send"})]})})]},"chat"):(0,n.jsxs)(l.P.form,{onSubmit:p,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"flex flex-col items-center gap-6 w-full max-w-xl px-4",children:[(0,n.jsx)("h1",{className:"text-4xl font-medium text-center",children:"What's on your mind today?"}),(0,n.jsx)("div",{className:"flex items-center bg-zinc-800 p-4 rounded-2xl w-full shadow-md",children:(0,n.jsx)("input",{type:"text",placeholder:"Ask anything",value:a,onChange:e=>c(e.target.value),className:"bg-transparent outline-none flex-1 text-white placeholder-gray-400"})})]},"landing")})})}},4774:(e,t,a)=>{Promise.resolve().then(a.bind(a,3125))}},e=>{var t=t=>e(e.s=t);e.O(0,[299,441,684,358],()=>t(4774)),_N_E=e.O()}]);